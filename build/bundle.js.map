{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/environment.js","../../node_modules/svelte/src/runtime/internal/loop.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/d3-array/src/ascending.js","../../node_modules/d3-array/src/descending.js","../../node_modules/d3-array/src/bisector.js","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/svelte/src/shared/version.js","../../node_modules/d3-array/src/bisect.js","../../node_modules/d3-array/src/number.js","../../node_modules/d3-array/src/extent.js","../../node_modules/d3-array/src/fsum.js","../../node_modules/d3-array/src/ticks.js","../../node_modules/d3-array/src/merge.js","../../node_modules/d3-geo/src/math.js","../../node_modules/d3-geo/src/noop.js","../../node_modules/d3-geo/src/stream.js","../../node_modules/d3-geo/src/cartesian.js","../../node_modules/d3-geo/src/compose.js","../../node_modules/d3-geo/src/rotation.js","../../node_modules/d3-geo/src/circle.js","../../node_modules/d3-geo/src/clip/buffer.js","../../node_modules/d3-geo/src/pointEqual.js","../../node_modules/d3-geo/src/clip/rejoin.js","../../node_modules/d3-geo/src/polygonContains.js","../../node_modules/d3-geo/src/clip/index.js","../../node_modules/d3-geo/src/clip/antimeridian.js","../../node_modules/d3-geo/src/clip/circle.js","../../node_modules/d3-geo/src/clip/rectangle.js","../../node_modules/d3-geo/src/clip/line.js","../../node_modules/d3-geo/src/identity.js","../../node_modules/d3-geo/src/path/bounds.js","../../node_modules/d3-geo/src/transform.js","../../node_modules/d3-geo/src/projection/fit.js","../../node_modules/d3-geo/src/projection/resample.js","../../node_modules/d3-geo/src/projection/index.js","../../node_modules/d3-geo/src/projection/conicEqualArea.js","../../node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../../node_modules/d3-geo/src/projection/conic.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/numberArray.js","../../node_modules/d3-interpolate/src/array.js","../../node_modules/d3-interpolate/src/date.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/object.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/value.js","../../node_modules/d3-interpolate/src/round.js","../../node_modules/d3-interpolate/src/zoom.js","../../node_modules/svelte/src/runtime/store/index.js","../../node_modules/svelte/src/runtime/motion/utils.js","../../node_modules/svelte/src/runtime/motion/tweened.js","../../src/ZIPScribble.svelte","../../node_modules/d3-scale/src/init.js","../../node_modules/d3-scale/src/number.js","../../node_modules/d3-scale/src/continuous.js","../../node_modules/d3-scale/src/constant.js","../../node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-format/src/exponent.js","../../node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-format/src/identity.js","../../node_modules/d3-format/src/locale.js","../../node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-format/src/formatNumerals.js","../../node_modules/d3-format/src/formatTrim.js","../../node_modules/d3-scale/src/tickFormat.js","../../node_modules/d3-format/src/precisionPrefix.js","../../node_modules/d3-format/src/precisionRound.js","../../node_modules/d3-format/src/precisionFixed.js","../../node_modules/d3-scale/src/linear.js","../../src/Navigator.svelte","../../src/Title.svelte","../../src/App.svelte","../../node_modules/d3-geo/src/projection/albers.js","../../src/main.js"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.19';\nexport const PUBLIC_VERSION = '4';\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","export default x => x;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","/**\n * @param {any} obj\n * @returns {boolean}\n */\nexport function is_date(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Date]';\n}\n","import { writable } from '../store/index.js';\nimport { assign, loop, now } from '../internal/index.js';\nimport { linear } from '../easing/index.js';\nimport { is_date } from './utils.js';\n\n/** @returns {(t: any) => any} */\nfunction get_interpolator(a, b) {\n\tif (a === b || a !== a) return () => a;\n\tconst type = typeof a;\n\tif (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n\t\tthrow new Error('Cannot interpolate values of different type');\n\t}\n\tif (Array.isArray(a)) {\n\t\tconst arr = b.map((bi, i) => {\n\t\t\treturn get_interpolator(a[i], bi);\n\t\t});\n\t\treturn (t) => arr.map((fn) => fn(t));\n\t}\n\tif (type === 'object') {\n\t\tif (!a || !b) throw new Error('Object cannot be null');\n\t\tif (is_date(a) && is_date(b)) {\n\t\t\ta = a.getTime();\n\t\t\tb = b.getTime();\n\t\t\tconst delta = b - a;\n\t\t\treturn (t) => new Date(a + t * delta);\n\t\t}\n\t\tconst keys = Object.keys(b);\n\t\tconst interpolators = {};\n\t\tkeys.forEach((key) => {\n\t\t\tinterpolators[key] = get_interpolator(a[key], b[key]);\n\t\t});\n\t\treturn (t) => {\n\t\t\tconst result = {};\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tresult[key] = interpolators[key](t);\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\t}\n\tif (type === 'number') {\n\t\tconst delta = b - a;\n\t\treturn (t) => a + t * delta;\n\t}\n\tthrow new Error(`Cannot interpolate ${type} values`);\n}\n\n/**\n * A tweened store in Svelte is a special type of store that provides smooth transitions between state values over time.\n *\n * https://svelte.dev/docs/svelte-motion#tweened\n * @template T\n * @param {T} [value]\n * @param {import('./private.js').TweenedOptions<T>} [defaults]\n * @returns {import('./public.js').Tweened<T>}\n */\nexport function tweened(value, defaults = {}) {\n\tconst store = writable(value);\n\t/** @type {import('../internal/private.js').Task} */\n\tlet task;\n\tlet target_value = value;\n\t/**\n\t * @param {T} new_value\n\t * @param {import('./private.js').TweenedOptions<T>} [opts]\n\t */\n\tfunction set(new_value, opts) {\n\t\tif (value == null) {\n\t\t\tstore.set((value = new_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\ttarget_value = new_value;\n\t\tlet previous_task = task;\n\t\tlet started = false;\n\t\tlet {\n\t\t\tdelay = 0,\n\t\t\tduration = 400,\n\t\t\teasing = linear,\n\t\t\tinterpolate = get_interpolator\n\t\t} = assign(assign({}, defaults), opts);\n\t\tif (duration === 0) {\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tstore.set((value = target_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tconst start = now() + delay;\n\t\tlet fn;\n\t\ttask = loop((now) => {\n\t\t\tif (now < start) return true;\n\t\t\tif (!started) {\n\t\t\t\tfn = interpolate(value, new_value);\n\t\t\t\tif (typeof duration === 'function') duration = duration(value, new_value);\n\t\t\t\tstarted = true;\n\t\t\t}\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tconst elapsed = now - start;\n\t\t\tif (elapsed > /** @type {number} */ (duration)) {\n\t\t\t\tstore.set((value = new_value));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tstore.set((value = fn(easing(elapsed / duration))));\n\t\t\treturn true;\n\t\t});\n\t\treturn task.promise;\n\t}\n\treturn {\n\t\tset,\n\t\tupdate: (fn, opts) => set(fn(target_value, value), opts),\n\t\tsubscribe: store.subscribe\n\t};\n}\n","<script>\n\n\timport { extent } from 'd3-array';\n\timport { interpolateZoom } from 'd3-interpolate';\n\timport { tweened } from 'svelte/motion';\n\n\texport let x = 0;\n\texport let y = 0;\n\texport let width;\n\texport let height;\n\texport let zipCodes;\n\texport let states;\n\texport let zoomRange;\n\texport let highlightRange;\n\t\n\tlet view;\n\tlet interpolator;\n\tconst t = tweened(0);\n\n\tconst prevAlpha = tweened(0);\n\tlet prevPath = null;\n\tconst currentAlpha = tweened(1);\n\tlet currentPath = null;\n\n\tlet fullPath = '';\n\n\t$: if (zipCodes && height > 0 && width > 0) {\n\t\tview = makeView(zipCodes);\n\t\tfullPath = makePath(zipCodes);\n\t}\n\n\t$: if (zoomRange) {\n\t\tsubsetZIPs(zipCodes, zoomRange);\n\t}\n\n\t$: if (highlightRange) {\n\t\tif (highlightRange === []) {\n\t\t\tcurrentPath = fullPath;\n\t\t} else {\n\t\t\tcurrentPath = makePath(zipCodes.slice(highlightRange[0], highlightRange[1]));\n\t\t}\n\t}\n\n\tfunction makeView(zips) {\n\t\tconst xExt = extent(zips, z => z.lon_proj);\n\t\tconst yExt = extent(zips, z => z.lat_proj);\n\t\tconst size = xExt[1]-xExt[0] > (yExt[1]-yExt[0]) * (width/height) ? (xExt[1]-xExt[0]) * (height/width) : yExt[1]-yExt[0];\n\t\tconst newView = [(xExt[0]+xExt[1])/2, (yExt[0]+yExt[1])/2, size * 1.05];\n\n\t\tif (view) {\n\t\t\tinterpolator = interpolateZoom(view, newView);\n\t\t\tt.set(0, {duration: 0});\n\t\t\tt.set(1, {duration: interpolator.duration/2});\n\t\t}\n\n\t\tprevPath = currentPath;\n\t\tprevAlpha.set(1, {duration: 0});\n\t\tprevAlpha.set(0, {duration: interpolator ? interpolator.duration/2 : 200});\n\t\tcurrentPath = makePath(zips);\n\t\tcurrentAlpha.set(0, {duration: 0});\n\t\tcurrentAlpha.set(1, {duration: interpolator ? interpolator.duration/2 : 200});\n\n\t\treturn newView;\n\t}\n\n\tfunction subsetZIPs(zips, range) {\n\t\tif (range && range.length > 0) {\n\t\t\tconst z = zips.slice(range[0], range[1]);\n\t\t\tview = makeView(z);\n\t\t\treturn z;\n\t\t} else {\n\t\t\tview = makeView(zips);\n\t\t\treturn zips;\n\t\t}\n\t}\n\n\tfunction makePath(zips) {\t\n\t\treturn 'M '+zips.map(z => `${z.lon_proj},${z.lat_proj}`).join(' L ');\n\t}\n\n\t// https://observablehq.com/@d3/d3-interpolatezoom\n\tfunction makeTransform(t) {\n\t\tconst v = interpolator ? interpolator(t) : view;\n\n\t\tconst k = height / v[2]; // scale\n\t\tconst translate = [x + width / 2 - v[0] * k, y + height / 2 - v[1] * k]; // translate\n\n\t\treturn `translate(${translate}) scale(${k})`;\n\t}\n</script>\n\n{#if zipCodes}\n<g transform={makeTransform($t)}>\n\t{#each states as statePolys}\n\t\t{#each statePolys.geo as p}\n\t\t\t<path d={makePath(p)} class=\"state\" />\n\t\t{/each}\n\t{/each}\n\t{#if zoomRange && zoomRange.length > 0}\n\t\t<path d={fullPath} class=\"background\" />\n\t{/if}\n\t{#if prevPath && $prevAlpha > 0}\n\t\t<path d={prevPath} style={`opacity:${$prevAlpha};`} />\n\t{/if}\n\t<path d={currentPath} style={`opacity:${$currentAlpha};`} />\n</g>\n{/if}\n\n<style>\n\tpath {\n\t\tstroke: #333;\n\t\tstroke-width: .5px;\n\t\tstroke-linejoin: miter;\n\t\tfill: none;\n\t}\n\n\tpath.background {\n\t\tstroke: #ccc;\n\t}\n\n\tpath.state {\n\t\tstroke: white;\n\t\tfill: #eee;\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\tpath {\n\t\t\tstroke: lightgray;\n\t\t}\n\n\t\tpath.background {\n\t\t\tstroke: #666;\n\t\t}\n\n\t\tpath.state {\n\t\t\tstroke: #333;\n\t\t\tstroke-width: 2px;\n\t\t\tfill: #444;\n\t\t}\n\t}\n</style>","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","<script>\n\n\timport { scaleLinear } from \"d3-scale\";\n\timport { onMount } from 'svelte';\n\n\texport let x = 0;\n\texport let y;\n\texport let width;\n\texport let digits;\n\texport let zips;\n\texport let zoomRange = [];\n\texport let highlightRange = [];\n\texport let title;\n\texport let subtitle;\n\n\t$: xScale = scaleLinear([0, zips.length], [0, width]);\n\n\tlet activeFirst = -1;\n\tlet activeSecond = undefined;\n\tlet activeState = -1;\n\n\tlet timeoutID = 0;\n\n\tlet svg;\n\tlet point;\n\n\tonMount(() => {\n\t\tsvg = document.querySelector('svg');\n\t\tpoint = svg.createSVGPoint();\n\n\t\tdocument.onkeydown = e => {\n\t\t\tif (e.key >= '0' && e.key <= '9') {\n\t\t\t\tsetActiveDigit(+e.key);\n\t\t\t} else {\n\t\t\t\tswitch(e.key) {\n\t\t\t\t\tcase 'x':\n\t\t\t\t\t\tsetActiveDigit(-1);\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ArrowLeft\":\n\t\t\t\t\t\tif (activeSecond >= 0) {\n\t\t\t\t\t\t\tif (activeSecond === 0) {\n\t\t\t\t\t\t\t\tif (activeFirst === 1) { // go from 10xxx to 08xxx, skip 09xxx\n\t\t\t\t\t\t\t\t\tsetActiveDigit(0, 8);\n\t\t\t\t\t\t\t\t} else if (activeFirst > 0) {\n\t\t\t\t\t\t\t\t\tsetActiveDigit(activeFirst-1, 9);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (activeFirst !== 0 || activeSecond !== 1) { // don't got below 01xxx\n\t\t\t\t\t\t\t\tsetActiveDigit(activeFirst, activeSecond-1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (activeFirst > 0) {\n\t\t\t\t\t\t\tsetActiveDigit(activeFirst-1);\n\t\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ArrowRight\":\n\t\t\t\t\t\tif (activeSecond >= 0) {\n\t\t\t\t\t\t\tif (activeFirst === 0 && activeSecond === 8) { // go from 08xxx to 10xxx\n\t\t\t\t\t\t\t\tsetActiveDigit(1, 0);\n\t\t\t\t\t\t\t} else if (activeSecond === 9) {\n\t\t\t\t\t\t\t\tif (activeFirst < 9 ) {\n\t\t\t\t\t\t\t\t\tsetActiveDigit(activeFirst+1, 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetActiveDigit(activeFirst, activeSecond+1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (activeFirst < 9) {\n\t\t\t\t\t\t\tsetActiveDigit(activeFirst+1);\n\t\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t\tif (!activeSecond) {\n\t\t\t\t\t\t\tif (activeFirst === 0) {\n\t\t\t\t\t\t\t\tsetActiveDigit(0, 1); // start at 01xxx\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetActiveDigit(activeFirst, 0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t\tif (activeSecond >= 0) {\n\t\t\t\t\t\t\tsetActiveDigit(activeFirst);\n\t\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\n\tfunction setActiveDigit(first, second, state) {\n\t\tif (timeoutID) {\n\t\t\tclearTimeout(timeoutID);\n\t\t\ttimeoutID = 0;\n\t\t}\n\t\tif (first >= 0) {\n\t\t\tif (first !== activeFirst) {\n\t\t\t\tzoomRange = [digits[first].startOffset, digits[first].endOffset];\n\t\t\t}\n\t\t\tif (second >= 0) {\n\t\t\t\thighlightRange = [digits[first].secondDigits[second].startOffset, digits[first].secondDigits[second].endOffset];\n\t\t\t} else if (state >= 0) {\n\t\t\t\thighlightRange = [digits[first].states[state].startOffset, digits[first].states[state].endOffset];\n\t\t\t} else {\n\t\t\t\ttimeoutID = setTimeout(() => {\n\t\t\t\t\thighlightRange = zoomRange;\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t\tconst rangeStart = second >= 0 ? highlightRange[0] : zoomRange[0];\n\t\t\tconst rangeEnd = second >= 0 ? highlightRange[1] : zoomRange[1];\n\t\t\ttitle = `ZIP Codes ${first}${second >= 0 ? second : 'x'}xxx: ${zips[rangeStart].zip} to ${zips[rangeEnd-1].zip}`;\n\t\t\tsubtitle = `${zips[rangeStart].place}, ${zips[rangeStart].state} to ${zips[rangeEnd-1].place}, ${zips[rangeEnd-1].state}`\n\t\t} else {\n\t\t\ttimeoutID = setTimeout(() => {\n\t\t\t\tzoomRange = [];\n\t\t\t\thighlightRange = [];\n\t\t\t\ttimeoutID = 0;\n\t\t\t}, 10);\n\t\t}\n\t\tactiveFirst = first;\n\t\tactiveSecond = second;\n\t\tactiveState = state; \n\t}\n\n\n</script>\n\n<g transform={`translate(${x}, ${y})`}>\n\t{#each digits as d, i}\n\t\t<rect x={xScale(d.startOffset)} y={0} width={xScale(d.endOffset)-xScale(d.startOffset)} height={20}\n\t\t\tclass:active={activeFirst === i}\n\t\t\ton:mouseenter={() => setActiveDigit(i)} on:mouseleave={() => setActiveDigit(-1)} />\n\t\t{#if i > 0}\n\t\t\t<line x1={xScale(d.startOffset)} y1={0} x2={xScale(d.startOffset)} y2={20} />\n\t\t{/if}\n\t\t<text x={(xScale(d.startOffset)+xScale(d.endOffset))/2} y={13} class:active={activeFirst === i} >{i}</text>\n\t\t{#each d.secondDigits as second, s}\n\t\t\t<rect x={xScale(second.startOffset)} y={20} width={xScale(second.endOffset)-xScale(second.startOffset)} height={20}\n\t\t\t\tclass:active={activeFirst === i && activeSecond === s}\n\t\t\t\ton:mouseenter={() => setActiveDigit(i, s)} on:mouseleave={() => setActiveDigit(i, -1)} />\n\t\t\t<line x1={xScale(second.startOffset)} y1={20} x2={xScale(second.startOffset)} y2={40} />\n\t\t{/each}\n\t\t{#each d.states as state, s}\n\t\t\t<rect x={xScale(state.startOffset)} y={40} width={xScale(state.endOffset)-xScale(state.startOffset)} height={20}\n\t\t\t\tclass:active={(activeFirst === i && activeState === s) || (activeState >= 0 && activeState < digits[activeFirst].states.length && state.state === digits[activeFirst].states[activeState].state)}\n\t\t\t\ton:mouseenter={() => setActiveDigit(i, -1, s)} on:mouseleave={() => setActiveDigit(i, -1, -1)} />\n\t\t\t<line x1={xScale(state.startOffset)} y1={40} x2={xScale(state.startOffset)} y2={60} />\n\t\t\t{#if xScale(state.endOffset)-xScale(state.startOffset) > 20}\n\t\t\t\t<text x={(xScale(state.startOffset)+xScale(state.endOffset))/2} y={55} \n\t\t\t\t\tclass:active={(activeFirst === i && activeState === s) || (activeState >= 0 && activeState < digits[activeFirst].states.length && state.state === digits[activeFirst].states[activeState].state)}\n\t\t\t\t\t>{state.state}</text>\n\t\t\t{/if}\n\t\t{/each}\n\t\t<line x1={0} y1={20} x2={width} y2={20} />\n\t\t<line x1={0} y1={40} x2={width} y2={40} />\n\t{/each}\n</g>\n\n<style>\n\trect {\n\t\tfill: lightgray;\n\t\tstroke: none;\n\t}\n\n\tline {\n\t\tstroke: white;\n\t\tpointer-events: none;\n\t}\n\n\ttext {\n\t\tfill: darkgray;\n\t\tfont-size: 8pt;\n\t\ttext-anchor: middle;\n\t\tpointer-events: none;\n\t}\n\n\ttext.active {\n\t\tfill: black;\n\t\tfont-weight: bold;\n\t}\n\n\trect.active {\n\t\tfill: lightsteelblue;\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\trect {\n\t\t\tfill: #333;\n\t\t}\n\n\t\tline {\n\t\t\tstroke: #222;\n\t\t}\n\t}\n</style>","<script>\n\n    export let width;\n    export let height;\n    export let title;\n    export let subtitle;\n\n</script>\n\n<rect x={0} y={0} {width} {height} />\n<text x={5} y={20}>{title}</text>\n<text x={5} y={40}>{subtitle}</text>\n\n<style>\n    text {\n        fill: white;\n    }\n</style>","<script>\n\timport { csv, json } from 'd3-fetch';\n\timport { geoAlbers } from 'd3-geo';\n\timport { onMount, afterUpdate } from 'svelte';\n\n\timport ZIPScribble from './ZIPScribble.svelte';\n\timport Navigator from './Navigator.svelte';\n\timport Title from './Title.svelte';\n\n\tconst ZIPSFILENAME = 'data/us-lower48.csv';\n\tconst STATESFILENAME = 'data/us-states-20m.json';\n\tconst PROJECTION = geoAlbers();\n\n\tlet SVGWIDTH = 800;\n\tlet SVGHEIGHT = 600;\n\tconst TITLEHEIGHT = 50;\n\n\tconst STATECODES = ['', 'AL', 'AK', '', 'AZ', 'AR', 'CA', '', 'CO', 'CT',\n\t\t\t\t\t\t'DE', 'DC', 'FL', 'GA', '', 'HI', 'ID', 'IL', 'IN', 'IA',\n\t\t\t\t\t\t'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO',\n\t\t\t\t\t\t'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH',\n\t\t\t\t\t\t'OK', 'OR', 'PA', '', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT',\n\t\t\t\t\t\t'VT', 'VA', '', 'WA', 'WV', 'WI', 'WY'];\n\n\tlet zipCodes = null;\n\tlet places = [];\n\tlet digits = [...Array(10)].map(d => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstartOffset:\t0,\n\t\t\t\t\t\tendOffset:\t\t0,\n\t\t\t\t\t\tstates:\t\t\t[],\n\t\t\t\t\t\tsecondDigits:\t[...Array(10)].map(d => {\n\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\tstartOffset:\t0,\n\t\t\t\t\t\t\t\t\t\t\t\tendOffset:\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t}})\n\t\t\t\t\t}});\n\n\tlet states = [];\n\n\tlet zoomRange = [];\n\tlet highlightRange = [];\n\n\tlet title = '';\n\tlet subtitle = '';\n\n\tonMount(async () => {\n\n\t\twindow.onresize = resized;\n\n\t\tcsv(ZIPSFILENAME).then(zips => {\n\n\t\t\tfor (let z of zips) {\n\t\t\t\tconst p = PROJECTION([z.lon, z.lat]);\n\t\t\t\tz.lon_proj = p[0];\n\t\t\t\tz.lat_proj = p[1];\n\t\t\t}\n\n\t\t\tlet currentDigit = 0;\n\t\t\tlet currentSecondDig = 0;\n\t\t\tlet prevState = '';\n\t\t\tfor (let rowNum = 0; rowNum < zips.length; rowNum += 1) {\n\t\t\t\tlet z = zips[rowNum];\n\t\t\t\tif (Math.floor(z.zip/10000) > currentDigit) {\n\t\t\t\t\tdigits[currentDigit].states[digits[currentDigit].states.length-1].endOffset = rowNum;\n\t\t\t\t\tdigits[currentDigit].endOffset = rowNum;\n\t\t\t\t\tdigits[currentDigit].secondDigits[currentSecondDig].endOffset = rowNum;\n\t\t\t\t\tcurrentDigit = Math.floor(z.zip/10000);\n\t\t\t\t\tdigits[currentDigit].startOffset = rowNum;\n\t\t\t\t\tdigits[currentDigit].secondDigits[0].startOffset = rowNum;\n\t\t\t\t\tcurrentSecondDig = 0;\n\t\t\t\t}\n\t\t\t\tif (Math.floor(z.zip/1000)-currentDigit*10 > currentSecondDig) {\n\t\t\t\t\tdigits[currentDigit].secondDigits[currentSecondDig].endOffset = rowNum;\n\t\t\t\t\tcurrentSecondDig = Math.floor(z.zip/1000)-currentDigit*10;\n\t\t\t\t\tdigits[currentDigit].secondDigits[currentSecondDig].startOffset = rowNum;\n\t\t\t\t}\n\t\t\t\tif (z.state !== prevState) {\n\t\t\t\t\tif (digits[currentDigit].states.length > 0) {\n\t\t\t\t\t\tdigits[currentDigit].states[digits[currentDigit].states.length-1].endOffset = rowNum;\n\t\t\t\t\t}\n\t\t\t\t\tdigits[currentDigit].states.push({\n\t\t\t\t\t\tstate:\t\t\tz.state,\n\t\t\t\t\t\tstartOffset:\trowNum,\n\t\t\t\t\t\tendOffset:\t\trowNum\n\t\t\t\t\t});\n\t\t\t\t\tprevState = z.state;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdigits[9].endOffset = zips.length;\n\t\t\tdigits[9].secondDigits[9].endOffset = zips.length;\n\t\t\tdigits[9].states[digits[9].states.length-1].endOffset = zips.length;\n\n\t\t\t// console.log(digits);\n\t\t\t// console.log(`${zips.length} ZIP codes`);\n\n\t\t\t// remove (spurious?) extremely short runs of ZIPs and stitch states back together\n\t\t\tfor (let d of digits) {\n\t\t\t\td.states = d.states.filter(s => s.endOffset-s.startOffset > 2);\n\t\t\t\tlet s = d.states[0];\n\t\t\t\tlet i = 0;\n\t\t\t\tlet newStates = [];\n\t\t\t\tdo {\n\t\t\t\t\twhile (i < d.states.length-1 && d.states[i+1].state === s.state) {\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t\ts.endOffset = d.states[i].endOffset;\n\t\t\t\t\t}\n\t\t\t\t\tnewStates.push(s);\n\t\t\t\t\ti += 1;\n\t\t\t\t\tif (i < d.states.length) {\n\t\t\t\t\t\ts = d.states[i];\n\t\t\t\t\t}\n\t\t\t\t} while (i < d.states.length);\n\t\t\t\td.states = newStates;\n\t\t\t}\n\n\t\t\tzipCodes = zips;\n\n\t\t\tlet placeHash = {};\n\n\t\t\tfor (let z of zips) {\n\t\t\t\tconst p = `${z.place}, ${z.state}`;\n\t\t\t\tif (p in placeHash) {\n\t\t\t\t\tplaceHash[p].zips += 1;\n\t\t\t\t} else {\n\t\t\t\t\tplaceHash[p] = {\n\t\t\t\t\t\tname: p,\n\t\t\t\t\t\tfirstZIP: z.zip,\n\t\t\t\t\t\tzips: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tplaces = Object.values(placeHash);\n\n\t\t\tplaces.sort((a, b) => b.zips - a.zips);\n\t\t});\n\n\t\tjson(STATESFILENAME).then(statesGeoJSON => {\n\t\t\tstates = statesGeoJSON.features\n\t\t\t\t.filter(s => !['02', '15', '72'].includes(s.properties.STATE))\n\t\t\t\t.map(s => {\n\t\t\t\t\tlet geo;\n\t\t\t\t\tif (s.geometry.type === 'Polygon')\n\t\t\t\t\t\tgeo = [s.geometry.coordinates[0].map(coord => PROJECTION([coord[0], coord[1]]))];\n\t\t\t\t\telse\n\t\t\t\t\t\tgeo = s.geometry.coordinates.map(p => p[0].map(coord => PROJECTION([coord[0], coord[1]])));\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'state': STATECODES[+s.properties.STATE],\n\t\t\t\t\t\t'geo': geo.map(a => a.map(p => { return {\n\t\t\t\t\t\t\t'lat_proj': p[1],\n\t\t\t\t\t\t\t'lon_proj': p[0]\n\t\t\t\t\t\t\t}}))\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\t});\n\n\tlet svgElement;\n\tfunction resized() {\n\t\tif (svgElement) {\n\t\t\tSVGWIDTH = svgElement.width.baseVal.value;\n\t\t\tSVGHEIGHT = svgElement.height.baseVal.value;\n\t\t\tconsole.log(SVGWIDTH, SVGHEIGHT);\n\t\t}\n\t}\n\n\tafterUpdate(resized);\n\n</script>\n\n<main>\n\t<svg width=\"100%\" height=\"100%\" bind:this={svgElement}>\n\t\t{#if zipCodes}\n\t\t\t<ZIPScribble width={SVGWIDTH} height={SVGHEIGHT-60-TITLEHEIGHT} y={TITLEHEIGHT}\n\t\t\t\t{zipCodes} {states}\n\t\t\t\t{zoomRange} {highlightRange} />\n\t\t\t<Title width={SVGWIDTH} height={TITLEHEIGHT}\n\t\t\t\t{title} {subtitle} />\n\t\t\t<Navigator y={SVGHEIGHT-60} width={SVGWIDTH}\n\t\t\t\t{digits} zips={zipCodes}\n\t\t\t\tbind:zoomRange={zoomRange} bind:highlightRange={highlightRange}\n\t\t\t\tbind:title={title} bind:subtitle={subtitle}\n\t\t\t\t/>\n\t\t{/if}\n\t</svg>\n</main>\n\n<style>\n\tmain {\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t:global(body) {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n});\n\nexport default app;"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","component_subscribe","component","store","callback","$$","on_destroy","push","callbacks","undefined","unsub","subscribe","unsubscribe","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","svg_element","name","document","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","toggle_class","element","toggle","classList","current_component","set_current_component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","seen_callbacks","flushidx","flush","saved_component","update","e","pop","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","transition_in","block","local","transition_out","o","ensure_array_like","array_like_or_iterator","Array","from","bind","index","props","bound","create_component","mount_component","m","new_on_destroy","on_mount","map","filter","destroy_component","filtered","targets","indexOf","flush_render_callbacks","make_dirty","then","fill","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","childNodes","children","l","intro","SvelteComponent","$$set","$destroy","this","$on","type","splice","$set","obj","keys","ascending","NaN","descending","bisector","compare1","compare2","delta","left","lo","hi","mid","zero","center","right","__svelte","v","bisectRight","bisect","extent","values","valueof","min","max","Adder","constructor","_partials","Float64Array","_n","j","y","Math","abs","valueOf","n","e10","sqrt","e5","e2","tickSpec","start","stop","count","step","power","floor","log10","error","pow","factor","i1","i2","inc","round","tickIncrement","merge","arrays","array","flatten","epsilon","epsilon2","pi","PI","halfPi","quarterPi","tau","degrees","radians","atan","atan2","cos","sin","sign","asin","streamGeometry","geometry","stream","streamGeometryType","hasOwnProperty","streamObjectType","Feature","object","FeatureCollection","features","Sphere","sphere","Point","coordinates","point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","spherical","cartesian","lambda","phi","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","compose","invert","rotationIdentity","forwardRotationLambda","deltaLambda","rotationLambda","rotation","rotationPhiGamma","deltaPhi","deltaGamma","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","z","circleRadius","cosRadius","radius","acos","clipBuffer","line","lines","rejoin","concat","shift","result","pointEqual","Intersection","points","other","entry","clipRejoin","segments","compareIntersection","startInside","interpolate","subject","clip","segment","p0","p1","sort","link","current","isSubject","longitude","pointVisible","clipLine","sink","polygon","ring","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","sinPhi","normal","angle","winding","sum","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","arc","intersection","phiArc","polygonContains","pointLine","clean","ringSegments","validSegment","clipAntimeridian","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","direction","clipCircle","cr","smallRadius","notHemisphere","visible","intersect","two","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","u","w","uu","t2","t","q","polar","q1","code","r","c0","v0","v00","point2","t0","t1","sinRadius","circleStream","clipMax","clipMin","clipRectangle","x0","y0","x1","y1","a1","corner","comparePoint","ca","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","a0","b0","b1","polygonInside","cleanInside","ax","ay","dx","dy","identity$2","Infinity","boundsStream$1","bounds","transformer","methods","s","TransformStream","key","fit","projection","fitBounds","clipExtent","scale","translate","geoStream","boundsStream","fitExtent","h","prototype","maxDepth","cosMinDistance","resample","project","delta2","resampleLineTo","depth","d2","phi2","lambda2","x2","y2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslateRotate","sx","sy","alpha","transform","scaleTranslate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","rotate","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","theta","preclip","postclip","recenter","apply","rotateRadians","reset","transformRotate","_","arguments","clipAngle","reflectX","reflectY","precision","fitSize","fitWidth","width","fitHeight","height","conicEqualAreaRaw","sy0","forward","cylindricalEqualAreaRaw","r0","r0y","conicEqualArea","parallels","define","factory","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","toString","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","copy","channels","displayable","formatHex8","formatHsl","clamp","constant","gamma","nogamma","exponential","linear","rgbGamma","end","colorRgb","numberArray","slice","genericArray","nb","na","date","setTime","interpolateNumber","reA","reB","source","string","am","bm","bs","lastIndex","number","one","join","ArrayBuffer","isView","DataView","isArray","interpolateRound","cosh","exp","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","S","ux0","uy0","w0","ux1","uy1","w1","log","d1","r1","coshr0","sinh","duration","SQRT2","_1","_2","subscriber_queue","is_date","call","get_interpolator","Error","arr","getTime","interpolators","tweened","defaults","subscribers","set","new_value","run_queue","subscriber","invalidate","writable","target_value","opts","previous_task","started","delay","easing","abort","promise","fulfill","loop","elapsed","if_block0","create_if_block_2","create_if_block_1","g_transform_value","path","path_d_value","makePath","each_value_1","geo","create_if_block","zips","lon_proj","lat_proj","view","interpolator","$$props","zipCodes","states","zoomRange","highlightRange","prevAlpha","prevPath","currentAlpha","currentPath","fullPath","makeView","xExt","yExt","newView","$$invalidate","range","subsetZIPs","initRange","domain","unit","normalize","bimap","d0","polymap","reverse","untransform","unknown","piecewise","output","input","interpolateValue","rescale","rangeRound","formatDecimalParts","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","align","symbol","comma","formatRounded","formatTypes","toFixed","toLocaleString","replace","toPrecision","X","toUpperCase","locale","formatPrefix","prefixes","formatLocale","grouping","thousands","group","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","prefix","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i0","formatTrim","charCodeAt","padding","tickFormat","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","nice","prestep","maxIter","ceil","startOffset","endOffset","rect","t_value","state","text_1","if_block","each_value_2","secondDigits","line0","line1","activeSecond","digits","title","subtitle","activeFirst","activeState","timeoutID","setActiveDigit","second","clearTimeout","setTimeout","rangeStart","rangeEnd","zip","place","xScale","scaleLinear","text0","text1","TITLEHEIGHT","navigator_changes","createElement","main","svg","svgElement","$$value","body"],"mappings":"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"}