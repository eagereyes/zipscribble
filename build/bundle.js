var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}const l="undefined"!=typeof window;let c=l?()=>window.performance.now():()=>Date.now(),f=l?t=>requestAnimationFrame(t):t;const h=new Set;function p(t){h.forEach((n=>{n.c(t)||(h.delete(n),n.f())})),0!==h.size&&f(p)}function g(t,n){t.appendChild(n)}function d(t,n,e){t.insertBefore(n,e||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function $(){return w("")}function x(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function M(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function N(t,n){n=""+n,t.data!==n&&(t.data=n)}function E(t,n,e){t.classList[e?"add":"remove"](n)}let O;function S(t){O=t}function z(){if(!O)throw new Error("Function called outside component initialization");return O}function k(t){z().$$.on_mount.push(t)}const A=[],R=[];let j=[];const C=[],_=Promise.resolve();let T=!1;function D(t){j.push(t)}function P(t){C.push(t)}const q=new Set;let I=0;function H(){if(0!==I)return;const t=O;do{try{for(;I<A.length;){const t=A[I];I++,S(t),L(t.$$)}}catch(t){throw A.length=0,I=0,t}for(S(null),A.length=0,I=0;R.length;)R.pop()();for(let t=0;t<j.length;t+=1){const n=j[t];q.has(n)||(q.add(n),n())}j.length=0}while(A.length);for(;C.length;)C.pop()();T=!1,q.clear(),S(t)}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(D)}}const F=new Set;let U;function V(t,n){t&&t.i&&(F.delete(t),t.i(n))}function Z(t,n,e,r){if(t&&t.o){if(F.has(t))return;F.add(t),U.c.push((()=>{F.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}else r&&r()}function Y(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function W(t){t&&t.c()}function G(t,n,e,i){const{fragment:u,after_update:s}=t.$$;u&&u.m(n,e),i||D((()=>{const n=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(D)}function K(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];j.forEach((r=>-1===t.indexOf(r)?n.push(r):e.push(r))),e.forEach((t=>t())),j=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function X(t,n){-1===t.$$.dirty[0]&&(A.push(t),T||(T=!0,_.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function B(n,e,r,a,u,s,l,c=[-1]){const f=O;S(n);const h=n.$$={fragment:null,ctx:[],props:s,update:t,not_equal:u,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};l&&l(h.root);let p=!1;if(h.ctx=r?r(n,e.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),p&&X(n,t)),e})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(m)}else h.fragment&&h.fragment.c();e.intro&&V(n.$$.fragment),G(n,e.target,e.anchor,e.customElement),H()}S(f)}class J{$destroy(){K(this,1),this.$destroy=t}$on(n,e){if(!a(e))return t;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Q={},tt={};function nt(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function et(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function rt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function it(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+rt(-n,6):n>9999?"+"+rt(n,6):rt(n,4))+"-"+rt(t.getUTCMonth()+1,2)+"-"+rt(t.getUTCDate(),2)+(o?"T"+rt(e,2)+":"+rt(r,2)+":"+rt(i,2)+"."+rt(o,3)+"Z":i?"T"+rt(e,2)+":"+rt(r,2)+":"+rt(i,2)+"Z":r||e?"T"+rt(e,2)+":"+rt(r,2)+"Z":"")}var ot=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return tt;if(l)return l=!1,Q;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==tt;){for(var f=[];r!==Q&&r!==tt;)f.push(r),r=c();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?it(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=nt(t);return function(r,i){return n(e(r),i,t)}}(t,n):nt(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=et(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=et(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),at=ot.parse;function ut(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var st,lt=(st=at,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),function(t,n){return fetch(t,n).then(ut)}(t,n).then((function(t){return st(t,e)}))});function ct(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function ft(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ht(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function pt(t){let n,e,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=ft,e=(n,e)=>ft(t(n),e),r=(n,e)=>t(n)-e):(n=t===ft||t===ht?t:gt,e=t,r=t),{left:i,center:function(t,n,e=0,o=t.length){const a=i(t,n,e,o-1);return a>e&&r(t[a-1],n)>-r(t[a],n)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function gt(){return 0}const dt=pt(ft).right;pt((function(t){return null===t?NaN:+t})).center;var mt=dt;function vt(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class yt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}const wt=Math.sqrt(50),bt=Math.sqrt(10),$t=Math.sqrt(2);function xt(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=wt?10:o>=bt?5:o>=$t?2:1;let u,s,l;return i<0?(l=Math.pow(10,-i)/a,u=Math.round(t*l),s=Math.round(n*l),u/l<t&&++u,s/l>n&&--s,l=-l):(l=Math.pow(10,i)*a,u=Math.round(t/l),s=Math.round(n/l),u*l<t&&++u,s*l>n&&--s),s<u&&.5<=e&&e<2?xt(t,n,2*e):[u,s,l]}function Mt(t,n,e){return xt(t=+t,n=+n,e=+e)[2]}function Nt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var Et=1e-6,Ot=1e-12,St=Math.PI,zt=St/2,kt=St/4,At=2*St,Rt=180/St,jt=St/180,Ct=Math.abs,_t=Math.atan,Tt=Math.atan2,Dt=Math.cos,Pt=Math.sin,qt=Math.sign||function(t){return t>0?1:t<0?-1:0},It=Math.sqrt;function Ht(t){return t>1?zt:t<-1?-zt:Math.asin(t)}function Lt(){}function Ft(t,n){t&&Vt.hasOwnProperty(t.type)&&Vt[t.type](t,n)}var Ut={Feature:function(t,n){Ft(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ft(e[r].geometry,n)}},Vt={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Zt(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Zt(e[r],n,0)},Polygon:function(t,n){Yt(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Yt(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ft(e[r],n)}};function Zt(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Yt(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Zt(t[e],n,1);n.polygonEnd()}function Wt(t){return[Tt(t[1],t[0]),Ht(t[2])]}function Gt(t){var n=t[0],e=t[1],r=Dt(e);return[r*Dt(n),r*Pt(n),Pt(e)]}function Kt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Xt(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Bt(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Jt(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qt(t){var n=It(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function tn(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function nn(t,n){return Ct(t)>St&&(t-=Math.round(t/At)*At),[t,n]}function en(t){return function(n,e){return Ct(n+=t)>St&&(n-=Math.round(n/At)*At),[n,e]}}function rn(t){var n=en(t);return n.invert=en(-t),n}function on(t,n){var e=Dt(t),r=Pt(t),i=Dt(n),o=Pt(n);function a(t,n){var a=Dt(n),u=Dt(t)*a,s=Pt(t)*a,l=Pt(n),c=l*e+u*r;return[Tt(s*i-c*o,u*e-l*r),Ht(c*i+s*o)]}return a.invert=function(t,n){var a=Dt(n),u=Dt(t)*a,s=Pt(t)*a,l=Pt(n),c=l*i-s*o;return[Tt(s*i+l*o,u*e+c*r),Ht(c*e-u*r)]},a}function an(t,n){(n=Gt(n))[0]-=t,Qt(n);var e,r=(e=-n[1])>1?0:e<-1?St:Math.acos(e);return((-n[2]<0?-r:r)+At-Et)%At}function un(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Lt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function sn(t,n){return Ct(t[0]-n[0])<Et&&Ct(t[1]-n[1])<Et}function ln(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function cn(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(sn(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*Et}u.push(e=new ln(r,t,null,!0)),s.push(e.o=new ln(r,null,e,!1)),u.push(e=new ln(a,t,null,!1)),s.push(e.o=new ln(a,null,e,!0))}})),u.length){for(s.sort(n),fn(u),fn(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var l,c,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function fn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function hn(t){return Ct(t[0])<=St?t[0]:qt(t[0])*((Ct(t[0])+St)%At-St)}function pn(t,n,e,r){return function(i){var o,a,u,s=n(i),l=un(),c=n(l),f=!1,h={point:p,lineStart:d,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=d,h.lineEnd=m,a=Nt(a);var t=function(t,n){var e=hn(n),r=n[1],i=Pt(r),o=[Pt(e),-Dt(e),0],a=0,u=0,s=new yt;1===i?r=zt+Et:-1===i&&(r=-zt-Et);for(var l=0,c=t.length;l<c;++l)if(h=(f=t[l]).length)for(var f,h,p=f[h-1],g=hn(p),d=p[1]/2+kt,m=Pt(d),v=Dt(d),y=0;y<h;++y,g=b,m=x,v=M,p=w){var w=f[y],b=hn(w),$=w[1]/2+kt,x=Pt($),M=Dt($),N=b-g,E=N>=0?1:-1,O=E*N,S=O>St,z=m*x;if(s.add(Tt(z*E*Pt(O),v*M+z*Dt(O))),a+=S?N+E*At:N,S^g>=e^b>=e){var k=Xt(Gt(p),Gt(w));Qt(k);var A=Xt(o,k);Qt(A);var R=(S^N>=0?-1:1)*Ht(A[2]);(r>R||r===R&&(k[0]||k[1]))&&(u+=S^N>=0?1:-1)}}return(a<-Et||a<Et&&s<-Ot)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),cn(a,dn,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function g(t,n){s.point(t,n)}function d(){h.point=g,s.lineStart()}function m(){h.point=p,s.lineEnd()}function v(t,n){u.push([t,n]),c.point(t,n)}function y(){c.lineStart(),u=[]}function w(){v(u[0][0],u[0][1]),c.lineEnd();var t,n,e,r,s=c.clean(),h=l.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(gn))}return h}}function gn(t){return t.length>1}function dn(t,n){return((t=t.x)[0]<0?t[1]-zt-Et:zt-t[1])-((n=n.x)[0]<0?n[1]-zt-Et:zt-n[1])}nn.invert=nn;var mn=pn((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?St:-St,s=Ct(o-e);Ct(s-St)<Et?(t.point(e,r=(r+a)/2>0?zt:-zt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=St&&(Ct(e-i)<Et&&(e-=i*Et),Ct(o-u)<Et&&(o-=u*Et),r=function(t,n,e,r){var i,o,a=Pt(t-e);return Ct(a)>Et?_t((Pt(n)*(o=Dt(r))*Pt(e)-Pt(r)*(i=Dt(n))*Pt(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*zt,r.point(-St,i),r.point(0,i),r.point(St,i),r.point(St,0),r.point(St,-i),r.point(0,-i),r.point(-St,-i),r.point(-St,0),r.point(-St,i);else if(Ct(t[0]-n[0])>Et){var o=t[0]<n[0]?St:-St;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-St,-zt]);function vn(t){var n=Dt(t),e=6*jt,r=n>0,i=Ct(n)>Et;function o(t,e){return Dt(t)*Dt(e)>n}function a(t,e,r){var i=[1,0,0],o=Xt(Gt(t),Gt(e)),a=Kt(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=n*a/s,c=-n*u/s,f=Xt(i,o),h=Jt(i,l);Bt(h,Jt(o,c));var p=f,g=Kt(h,p),d=Kt(p,p),m=g*g-d*(Kt(h,h)-1);if(!(m<0)){var v=It(m),y=Jt(p,(-g-v)/d);if(Bt(y,h),y=Wt(y),!r)return y;var w,b=t[0],$=e[0],x=t[1],M=e[1];$<b&&(w=b,b=$,$=w);var N=$-b,E=Ct(N-St)<Et;if(!E&&M<x&&(w=x,x=M,M=w),E||N<Et?E?x+M>0^y[1]<(Ct(y[0]-b)<Et?x:M):x<=y[1]&&y[1]<=M:N>St^(b<=y[0]&&y[0]<=$)){var O=Jt(p,(-g+v)/d);return Bt(O,h),[y,Wt(O)]}}}function u(n,e){var i=r?t:St-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return pn(o,(function(t){var n,e,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var p,g=[f,h],d=o(f,h),m=r?d?0:u(f,h):d?u(f+(f<0?St:-St),h):0;if(!n&&(l=s=d)&&t.lineStart(),d!==s&&(!(p=a(n,g))||sn(n,p)||sn(g,p))&&(g[2]=1),d!==s)c=0,d?(t.lineStart(),p=a(g,n),t.point(p[0],p[1])):(p=a(n,g),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^d){var v;m&e||!(v=a(g,n,!0))||(c=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!d||n&&sn(n,g)||t.point(g[0],g[1]),n=g,s=d,e=m},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=Dt(n),u=Pt(n),s=r*e;null==i?(i=n+r*At,o=n-s/2):(i=an(a,i),o=an(a,o),(r>0?i<o:i>o)&&(i+=r*At));for(var l,c=i;r>0?c>o:c<o;c-=s)l=Wt([a,-u*Dt(c),-u*Pt(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-St,t-St])}var yn=1e9,wn=-yn;function bn(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,l){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{l.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return Ct(r[0]-t)<Et?i>0?0:3:Ct(r[0]-e)<Et?i>0?2:1:Ct(r[1]-n)<Et?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,l,c,f,h,p,g,d,m,v,y,w=a,b=un(),$={point:x,lineStart:function(){$.point=M,l&&l.push(c=[]);v=!0,m=!1,g=d=NaN},lineEnd:function(){s&&(M(f,h),p&&m&&b.rejoin(),s.push(b.result()));$.point=x,m&&w.lineEnd()},polygonStart:function(){w=b,s=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,a,u=l[e],s=1,c=u.length,f=u[0],h=f[0],p=f[1];s<c;++s)o=h,a=p,h=(f=u[s])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=y&&n,i=(s=Nt(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&cn(s,u,n,o,a),a.polygonEnd());w=a,s=l=c=null}};function x(t,n){i(t,n)&&w.point(t,n)}function M(o,a){var u=i(o,a);if(l&&c.push([o,a]),v)f=o,h=a,p=u,v=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&m)w.point(o,a);else{var s=[g=Math.max(wn,Math.min(yn,g)),d=Math.max(wn,Math.min(yn,d))],b=[o=Math.max(wn,Math.min(yn,o)),a=Math.max(wn,Math.min(yn,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],l=0,c=1,f=n[0]-u,h=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=u+l*f,t[1]=s+l*h),c<1&&(n[0]=u+c*f,n[1]=s+c*h),!0}}}}}(s,b,t,n,e,r)?u&&(w.lineStart(),w.point(o,a),y=!1):(m||(w.lineStart(),w.point(s[0],s[1])),w.point(b[0],b[1]),u||w.lineEnd(),y=!1)}g=o,d=a,m=u}return $}}var $n=t=>t,xn=1/0,Mn=xn,Nn=-xn,En=Nn;var On={point:function(t,n){t<xn&&(xn=t);t>Nn&&(Nn=t);n<Mn&&(Mn=n);n>En&&(En=n)},lineStart:Lt,lineEnd:Lt,polygonStart:Lt,polygonEnd:Lt,result:function(){var t=[[xn,Mn],[Nn,En]];return Nn=En=-(Mn=xn=1/0),t}};function Sn(t){return function(n){var e=new zn;for(var r in t)e[r]=t[r];return e.stream=n,e}}function zn(){}function kn(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),function(t,n){t&&Ut.hasOwnProperty(t.type)?Ut[t.type](t,n):Ft(t,n)}(e,t.stream(On)),n(On.result()),null!=r&&t.clipExtent(r),t}function An(t,n,e){return kn(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}zn.prototype={constructor:zn,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Rn=16,jn=Dt(30*jt);function Cn(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,l,c,f,h,p,g,d,m){var v=l-r,y=c-i,w=v*v+y*y;if(w>4*n&&d--){var b=a+h,$=u+p,x=s+g,M=It(b*b+$*$+x*x),N=Ht(x/=M),E=Ct(Ct(x)-1)<Et||Ct(o-f)<Et?(o+f)/2:Tt($,b),O=t(E,N),S=O[0],z=O[1],k=S-r,A=z-i,R=y*k-v*A;(R*R/w>n||Ct((v*k+y*A)/w-.5)>.3||a*h+u*p+s*g<jn)&&(e(r,i,o,a,u,s,S,z,E,b/=M,$/=M,x,d,m),m.point(S,z),e(S,z,E,b,$,x,l,c,f,h,p,g,d,m))}}return function(n){var r,i,o,a,u,s,l,c,f,h,p,g,d={point:m,lineStart:v,lineEnd:w,polygonStart:function(){n.polygonStart(),d.lineStart=b},polygonEnd:function(){n.polygonEnd(),d.lineStart=v}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){c=NaN,d.point=y,n.lineStart()}function y(r,i){var o=Gt([r,i]),a=t(r,i);e(c,f,l,h,p,g,c=a[0],f=a[1],l=r,h=o[0],p=o[1],g=o[2],Rn,n),n.point(c,f)}function w(){d.point=m,n.lineEnd()}function b(){v(),d.point=$,d.lineEnd=x}function $(t,n){y(r=t,n),i=c,o=f,a=h,u=p,s=g,d.point=y}function x(){e(c,f,l,h,p,g,i,o,r,a,u,s,Rn,n),d.lineEnd=w,w()}return d}}(t,n):function(t){return Sn({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var _n=Sn({point:function(t,n){this.stream.point(t*jt,n*jt)}});function Tn(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=Dt(o),u=Pt(o),s=a*t,l=u*t,c=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function g(t,o){return[s*(t*=r)-l*(o*=i)+n,e-l*t-s*o]}return g.invert=function(t,n){return[r*(c*t-f*n+h),i*(p-f*t-c*n)]},g}function Dn(t){var n,e,r,i,o,a,u,s,l,c,f=150,h=480,p=250,g=0,d=0,m=0,v=0,y=0,w=0,b=1,$=1,x=null,M=mn,N=null,E=$n,O=.5;function S(t){return s(t[0]*jt,t[1]*jt)}function z(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Rt,t[1]*Rt]}function k(){var t=Tn(f,0,0,b,$,w).apply(null,n(g,d)),r=Tn(f,h-t[0],p-t[1],b,$,w);return e=function(t,n,e){return(t%=At)?n||e?tn(rn(t),on(n,e)):rn(t):n||e?on(n,e):nn}(m,v,y),u=tn(n,r),s=tn(e,u),a=Cn(u,O),A()}function A(){return l=c=null,S}return S.stream=function(t){return l&&c===t?l:l=_n(function(t){return Sn({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(E(c=t)))))},S.preclip=function(t){return arguments.length?(M=t,x=void 0,A()):M},S.postclip=function(t){return arguments.length?(E=t,N=r=i=o=null,A()):E},S.clipAngle=function(t){return arguments.length?(M=+t?vn(x=t*jt):(x=null,mn),A()):x*Rt},S.clipExtent=function(t){return arguments.length?(E=null==t?(N=r=i=o=null,$n):bn(N=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==N?null:[[N,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,k()):f},S.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],k()):[h,p]},S.center=function(t){return arguments.length?(g=t[0]%360*jt,d=t[1]%360*jt,k()):[g*Rt,d*Rt]},S.rotate=function(t){return arguments.length?(m=t[0]%360*jt,v=t[1]%360*jt,y=t.length>2?t[2]%360*jt:0,k()):[m*Rt,v*Rt,y*Rt]},S.angle=function(t){return arguments.length?(w=t%360*jt,k()):w*Rt},S.reflectX=function(t){return arguments.length?(b=t?-1:1,k()):b<0},S.reflectY=function(t){return arguments.length?($=t?-1:1,k()):$<0},S.precision=function(t){return arguments.length?(a=Cn(u,O=t*t),A()):It(O)},S.fitExtent=function(t,n){return An(S,t,n)},S.fitSize=function(t,n){return function(t,n,e){return An(t,[[0,0],n],e)}(S,t,n)},S.fitWidth=function(t,n){return function(t,n,e){return kn(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}(S,t,n)},S.fitHeight=function(t,n){return function(t,n,e){return kn(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}(S,t,n)},function(){return n=t.apply(this,arguments),S.invert=n.invert&&z,k()}}function Pn(t,n){var e=Pt(t),r=(e+Pt(n))/2;if(Ct(r)<Et)return function(t){var n=Dt(t);function e(t,e){return[t*n,Pt(e)/n]}return e.invert=function(t,e){return[t/n,Ht(e*n)]},e}(t);var i=1+e*(2*r-e),o=It(i)/r;function a(t,n){var e=It(i-2*r*Pt(n))/r;return[e*Pt(t*=r),o-e*Dt(t)]}return a.invert=function(t,n){var e=o-n,a=Tt(t,Ct(e))*qt(e);return e*r<0&&(a-=St*qt(t)*qt(e)),[a/r,Ht((i-(t*t+e*e)*r*r)/(2*r))]},a}function qn(){return(t=Pn,n=0,e=St/3,r=Dn(t),i=r(n,e),i.parallels=function(t){return arguments.length?r(n=t[0]*jt,e=t[1]*jt):[n*Rt,e*Rt]},i).scale(155.424).center([0,33.6442]);var t,n,e,r,i}function In(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Hn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ln(){}var Fn=.7,Un=1/Fn,Vn="\\s*([+-]?\\d+)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wn=/^#([0-9a-f]{3,8})$/,Gn=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),Kn=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),Xn=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Zn}\\)$`),Bn=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${Zn}\\)$`),Jn=new RegExp(`^hsl\\(${Zn},${Yn},${Yn}\\)$`),Qn=new RegExp(`^hsla\\(${Zn},${Yn},${Yn},${Zn}\\)$`),te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ne(){return this.rgb().formatHex()}function ee(){return this.rgb().formatRgb()}function re(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Wn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ie(n):3===e?new ue(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?oe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?oe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Gn.exec(t))?new ue(n[1],n[2],n[3],1):(n=Kn.exec(t))?new ue(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Xn.exec(t))?oe(n[1],n[2],n[3],n[4]):(n=Bn.exec(t))?oe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Jn.exec(t))?pe(n[1],n[2]/100,n[3]/100,1):(n=Qn.exec(t))?pe(n[1],n[2]/100,n[3]/100,n[4]):te.hasOwnProperty(t)?ie(te[t]):"transparent"===t?new ue(NaN,NaN,NaN,0):null}function ie(t){return new ue(t>>16&255,t>>8&255,255&t,1)}function oe(t,n,e,r){return r<=0&&(t=n=e=NaN),new ue(t,n,e,r)}function ae(t,n,e,r){return 1===arguments.length?((i=t)instanceof Ln||(i=re(i)),i?new ue((i=i.rgb()).r,i.g,i.b,i.opacity):new ue):new ue(t,n,e,null==r?1:r);var i}function ue(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function se(){return`#${he(this.r)}${he(this.g)}${he(this.b)}`}function le(){const t=ce(this.opacity);return`${1===t?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${1===t?")":`, ${t})`}`}function ce(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function he(t){return((t=fe(t))<16?"0":"")+t.toString(16)}function pe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new de(t,n,e,r)}function ge(t){if(t instanceof de)return new de(t.h,t.s,t.l,t.opacity);if(t instanceof Ln||(t=re(t)),!t)return new de;if(t instanceof de)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new de(a,u,s,t.opacity)}function de(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function me(t){return(t=(t||0)%360)<0?t+360:t}function ve(t){return Math.max(0,Math.min(1,t||0))}function ye(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}In(Ln,re,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ne,formatHex:ne,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ge(this).formatHsl()},formatRgb:ee,toString:ee}),In(ue,ae,Hn(Ln,{brighter(t){return t=null==t?Un:Math.pow(Un,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Fn:Math.pow(Fn,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ue(fe(this.r),fe(this.g),fe(this.b),ce(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatHex8:function(){return`#${he(this.r)}${he(this.g)}${he(this.b)}${he(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:le,toString:le})),In(de,(function(t,n,e,r){return 1===arguments.length?ge(t):new de(t,n,e,null==r?1:r)}),Hn(Ln,{brighter(t){return t=null==t?Un:Math.pow(Un,t),new de(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Fn:Math.pow(Fn,t),new de(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ue(ye(t>=240?t-240:t+120,i,r),ye(t,i,r),ye(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new de(me(this.h),ve(this.s),ve(this.l),ce(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ce(this.opacity);return`${1===t?"hsl(":"hsla("}${me(this.h)}, ${100*ve(this.s)}%, ${100*ve(this.l)}%${1===t?")":`, ${t})`}`}}));var we=t=>()=>t;function be(t){return 1==(t=+t)?$e:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):we(isNaN(n)?e:n)}}function $e(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):we(isNaN(t)?n:t)}var xe=function t(n){var e=be(n);function r(t,n){var r=e((t=ae(t)).r,(n=ae(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=$e(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Me(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ne(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Re(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Ee(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Oe(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Se(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Re(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ke=new RegExp(ze.source,"g");function Ae(t,n){var e,r,i,o=ze.lastIndex=ke.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=ze.exec(t))&&(r=ke.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Oe(e,r)})),o=ke.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Re(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?we(n):("number"===i?Oe:"string"===i?(e=re(n))?(n=e,xe):Ae:n instanceof re?xe:n instanceof Date?Ee:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Ne:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Se:Oe:Me))(t,n)}function je(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Ce(t){return((t=Math.exp(t))+1/t)/2}var _e=function t(n,e,r){function i(t,i){var o,a,u=t[0],s=t[1],l=t[2],c=i[0],f=i[1],h=i[2],p=c-u,g=f-s,d=p*p+g*g;if(d<1e-12)a=Math.log(h/l)/n,o=function(t){return[u+t*p,s+t*g,l*Math.exp(n*t*a)]};else{var m=Math.sqrt(d),v=(h*h-l*l+r*d)/(2*l*e*m),y=(h*h-l*l-r*d)/(2*h*e*m),w=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);a=(b-w)/n,o=function(t){var r,i=t*a,o=Ce(w),c=l/(e*m)*(o*(r=n*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[u+c*p,s+c*g,l*o/Ce(n*i+w)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);const Te=[];function De(t){return"[object Date]"===Object.prototype.toString.call(t)}function Pe(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(e!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const e=n.map(((n,e)=>Pe(t[e],n)));return t=>e.map((n=>n(t)))}if("object"===e){if(!t||!n)throw new Error("Object cannot be null");if(De(t)&&De(n)){t=t.getTime();const e=(n=n.getTime())-t;return n=>new Date(t+n*e)}const e=Object.keys(n),r={};return e.forEach((e=>{r[e]=Pe(t[e],n[e])})),t=>{const n={};return e.forEach((e=>{n[e]=r[e](t)})),n}}if("number"===e){const e=n-t;return n=>t+n*e}throw new Error(`Cannot interpolate ${e} values`)}function qe(r,i={}){const o=function(n,e=t){let r;const i=new Set;function o(t){if(u(n,t)&&(n=t,r)){const t=!Te.length;for(const t of i)t[1](),Te.push(t,n);if(t){for(let t=0;t<Te.length;t+=2)Te[t][0](Te[t+1]);Te.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(a,u=t){const s=[a,u];return i.add(s),1===i.size&&(r=e(o)||t),a(n),()=>{i.delete(s),0===i.size&&r&&(r(),r=null)}}}}(r);let a,s=r;function l(t,u){if(null==r)return o.set(r=t),Promise.resolve();s=t;let l=a,g=!1,{delay:d=0,duration:m=400,easing:v=n,interpolate:y=Pe}=e(e({},i),u);if(0===m)return l&&(l.abort(),l=null),o.set(r=s),Promise.resolve();const w=c()+d;let b;return a=function(t){let n;return 0===h.size&&f(p),{promise:new Promise((e=>{h.add(n={c:t,f:e})})),abort(){h.delete(n)}}}((n=>{if(n<w)return!0;g||(b=y(r,t),"function"==typeof m&&(m=m(r,t)),g=!0),l&&(l.abort(),l=null);const e=n-w;return e>m?(o.set(r=t),!1):(o.set(r=b(v(e/m))),!0)})),a.promise}return{set:l,update:(t,n)=>l(t(s,r),n),subscribe:o.subscribe}}function Ie(t,n,e){const r=t.slice();return r[22]=n[e],r}function He(t,n,e){const r=t.slice();return r[25]=n[e],r}function Le(t){let n,e,r,i,o,a,u=t[1],s=[];for(let n=0;n<u.length;n+=1)s[n]=Ue(Ie(t,u,n));let l=t[2]&&t[2].length>0&&Ve(t),c=t[4]&&t[7]>0&&Ze(t);return{c(){n=y("g");for(let t=0;t<s.length;t+=1)s[t].c();e=$(),l&&l.c(),r=$(),c&&c.c(),i=y("path"),M(i,"d",t[5]),M(i,"style",o=`opacity:${t[8]};`),M(i,"class","svelte-1ffya72"),M(n,"transform",a=t[12](t[6]))},m(t,o){d(t,n,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null);g(n,e),l&&l.m(n,null),g(n,r),c&&c.m(n,null),g(n,i)},p(t,f){if(2&f){let r;for(u=t[1],r=0;r<u.length;r+=1){const i=Ie(t,u,r);s[r]?s[r].p(i,f):(s[r]=Ue(i),s[r].c(),s[r].m(n,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=u.length}t[2]&&t[2].length>0?l?l.p(t,f):(l=Ve(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),t[4]&&t[7]>0?c?c.p(t,f):(c=Ze(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),32&f&&M(i,"d",t[5]),256&f&&o!==(o=`opacity:${t[8]};`)&&M(i,"style",o),64&f&&a!==(a=t[12](t[6]))&&M(n,"transform",a)},d(t){t&&m(n),v(s,t),l&&l.d(),c&&c.d()}}}function Fe(t){let n,e;return{c(){n=y("path"),M(n,"d",e=We(t[25])),M(n,"class","state svelte-1ffya72")},m(t,e){d(t,n,e)},p(t,r){2&r&&e!==(e=We(t[25]))&&M(n,"d",e)},d(t){t&&m(n)}}}function Ue(t){let n,e=t[22].geo,r=[];for(let n=0;n<e.length;n+=1)r[n]=Fe(He(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=$()},m(t,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(t,e);d(t,n,e)},p(t,i){if(2&i){let o;for(e=t[22].geo,o=0;o<e.length;o+=1){const a=He(t,e,o);r[o]?r[o].p(a,i):(r[o]=Fe(a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){v(r,t),t&&m(n)}}}function Ve(t){let n;return{c(){n=y("path"),M(n,"d",t[3]),M(n,"class","background svelte-1ffya72")},m(t,e){d(t,n,e)},p(t,e){8&e&&M(n,"d",t[3])},d(t){t&&m(n)}}}function Ze(t){let n,e;return{c(){n=y("path"),M(n,"d",t[4]),M(n,"style",e=`opacity:${t[7]};`),M(n,"class","svelte-1ffya72")},m(t,e){d(t,n,e)},p(t,r){16&r&&M(n,"d",t[4]),128&r&&e!==(e=`opacity:${t[7]};`)&&M(n,"style",e)},d(t){t&&m(n)}}}function Ye(n){let e,r=n[0]&&Le(n);return{c(){r&&r.c(),e=$()},m(t,n){r&&r.m(t,n),d(t,e,n)},p(t,[n]){t[0]?r?r.p(t,n):(r=Le(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&m(e)}}}function We(t){return"M "+t.map((t=>`${t.lon_proj},${t.lat_proj}`)).join(" L ")}function Ge(t,n,e){let r,i,o,a,u,{x:l=0}=n,{y:c=0}=n,{width:f}=n,{height:h}=n,{zipCodes:p}=n,{states:g}=n,{zoomRange:d}=n,{highlightRange:m}=n;const v=qe(0);s(t,v,(t=>e(6,r=t)));const y=qe(0);s(t,y,(t=>e(7,i=t)));let w=null;const b=qe(1);s(t,b,(t=>e(8,o=t)));let $=null,x="";function M(t){const n=vt(t,(t=>t.lon_proj)),r=vt(t,(t=>t.lat_proj)),i=n[1]-n[0]>(r[1]-r[0])*(f/h)?(n[1]-n[0])*(h/f):r[1]-r[0],o=[(n[0]+n[1])/2,(r[0]+r[1])/2,1.05*i];return a&&(u=_e(a,o),v.set(0,{duration:0}),v.set(1,{duration:u.duration/2})),e(4,w=$),y.set(1,{duration:0}),y.set(0,{duration:u?u.duration/2:200}),e(5,$=We(t)),b.set(0,{duration:0}),b.set(1,{duration:u?u.duration/2:200}),o}return t.$$set=t=>{"x"in t&&e(13,l=t.x),"y"in t&&e(14,c=t.y),"width"in t&&e(15,f=t.width),"height"in t&&e(16,h=t.height),"zipCodes"in t&&e(0,p=t.zipCodes),"states"in t&&e(1,g=t.states),"zoomRange"in t&&e(2,d=t.zoomRange),"highlightRange"in t&&e(17,m=t.highlightRange)},t.$$.update=()=>{98305&t.$$.dirty&&p&&h>0&&f>0&&(a=M(p),e(3,x=We(p))),5&t.$$.dirty&&d&&function(t,n){if(n&&n.length>0){const e=t.slice(n[0],n[1]);return a=M(e),e}a=M(t)}(p,d),131081&t.$$.dirty&&m&&e(5,$=m===[]?x:We(p.slice(m[0],m[1])))},[p,g,d,x,w,$,r,i,o,v,y,b,function(t){const n=u?u(t):a,e=h/n[2];return`translate(${[l+f/2-n[0]*e,c+h/2-n[1]*e]}) scale(${e})`},l,c,f,h,m]}class Ke extends J{constructor(t){super(),B(this,t,Ge,Ye,u,{x:13,y:14,width:15,height:16,zipCodes:0,states:1,zoomRange:2,highlightRange:17})}}function Xe(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Be(t){return+t}var Je=[0,1];function Qe(t){return t}function tr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function nr(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=tr(i,r),o=e(a,o)):(r=tr(r,i),o=e(o,a)),function(t){return o(r(t))}}function er(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=tr(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=mt(t,n,1,r)-1;return o[e](i[e](n))}}function rr(){var t,n,e,r,i,o,a=Je,u=Je,s=Re,l=Qe;function c(){var t,n,e,s=Math.min(a.length,u.length);return l!==Qe&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),l=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?er:nr,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),Oe)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Be),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=je,c()},f.clamp=function(t){return arguments.length?(l=!!t||Qe,c()):l!==Qe},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function ir(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function or(t){return(t=ir(Math.abs(t)))?t[1]:NaN}var ar,ur=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sr(t){if(!(n=ur.exec(t)))throw new Error("invalid format: "+t);var n;return new lr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function lr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function cr(t,n){var e=ir(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}sr.prototype=lr.prototype,lr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var fr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>cr(100*t,n),r:cr,s:function(t,n){var e=ir(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ar=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ir(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hr(t){return t}var pr,gr,dr,mr=Array.prototype.map,vr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?hr:(n=mr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?hr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(mr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=sr(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,g=t.width,d=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(d=!0,y="g"):fr[y]||(void 0===m&&(m=12),v=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?s:"",$=fr[y],x=/[defgprs%]/.test(y);function M(t){var i,o,s,h=w,M=b;if("c"===y)M=$(t)+M,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:$(Math.abs(t),m),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),N&&0==+t&&"+"!==f&&(N=!1),h=(N?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?vr[8+ar/3]:"")+M+(N&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}d&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,O=E<g?new Array(g-E+1).join(n):"";switch(d&&p&&(t=r(O+t,O.length?g-M.length:1/0),O=""),e){case"<":t=h+t+M+O;break;case"=":t=h+O+t+M;break;case"^":t=O.slice(0,E=O.length>>1)+h+t+M+O.slice(E);break;default:t=O+h+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=sr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(or(n)/3))),i=Math.pow(10,-r),o=vr[8+r/3];return function(t){return e(i*t)+o}}}}function wr(t,n,e,r){var i,o=function(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?Mt(n,t,e):Mt(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}(t,n,e);switch((r=sr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(or(n)/3)))-or(Math.abs(t)))}(o,a))||(r.precision=i),dr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,or(n)-or(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-or(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return gr(r)}function br(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const r=n<t,[i,o,a]=r?xt(n,t,e):xt(t,n,e);if(!(o>=i))return[];const u=o-i+1,s=new Array(u);if(r)if(a<0)for(let t=0;t<u;++t)s[t]=(o-t)/-a;else for(let t=0;t<u;++t)s[t]=(o-t)*a;else if(a<0)for(let t=0;t<u;++t)s[t]=(i+t)/-a;else for(let t=0;t<u;++t)s[t]=(i+t)*a;return s}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return wr(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=Mt(s,l,e))===r)return o[a]=s,o[u]=l,n(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function $r(){var t=rr()(Qe,Qe);return t.copy=function(){return n=t,$r().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},Xe.apply(t,arguments),br(t)}function xr(t,n,e){const r=t.slice();return r[23]=n[e],r[25]=e,r}function Mr(t,n,e){const r=t.slice();return r[26]=n[e],r[28]=e,r}function Nr(t,n,e){const r=t.slice();return r[29]=n[e],r[28]=e,r}function Er(t){let n,e,r,i,a,u,s,l;function c(){return t[16](t[25],t[28])}function f(){return t[17](t[25])}return{c(){n=y("rect"),i=y("line"),M(n,"x",e=t[7](t[29].startOffset)),M(n,"y",20),M(n,"width",r=t[7](t[29].endOffset)-t[7](t[29].startOffset)),M(n,"height",20),M(n,"class","svelte-1ecxz4z"),E(n,"active",t[4]===t[25]&&t[5]===t[28]),M(i,"x1",a=t[7](t[29].startOffset)),M(i,"y1",20),M(i,"x2",u=t[7](t[29].startOffset)),M(i,"y2",40),M(i,"class","svelte-1ecxz4z")},m(t,e){d(t,n,e),d(t,i,e),s||(l=[x(n,"mouseenter",c),x(n,"mouseleave",f)],s=!0)},p(o,s){t=o,136&s&&e!==(e=t[7](t[29].startOffset))&&M(n,"x",e),136&s&&r!==(r=t[7](t[29].endOffset)-t[7](t[29].startOffset))&&M(n,"width",r),48&s&&E(n,"active",t[4]===t[25]&&t[5]===t[28]),136&s&&a!==(a=t[7](t[29].startOffset))&&M(i,"x1",a),136&s&&u!==(u=t[7](t[29].startOffset))&&M(i,"x2",u)},d(t){t&&m(n),t&&m(i),s=!1,o(l)}}}function Or(t){let n,e,r,i=t[26].state+"";return{c(){n=y("text"),e=w(i),M(n,"x",r=(t[7](t[26].startOffset)+t[7](t[26].endOffset))/2),M(n,"y",55),M(n,"class","svelte-1ecxz4z"),E(n,"active",t[4]===t[25]&&t[6]===t[28]||t[6]>=0&&t[6]<t[3][t[4]].states.length&&t[26].state===t[3][t[4]].states[t[6]].state)},m(t,r){d(t,n,r),g(n,e)},p(t,o){8&o&&i!==(i=t[26].state+"")&&N(e,i),136&o&&r!==(r=(t[7](t[26].startOffset)+t[7](t[26].endOffset))/2)&&M(n,"x",r),88&o&&E(n,"active",t[4]===t[25]&&t[6]===t[28]||t[6]>=0&&t[6]<t[3][t[4]].states.length&&t[26].state===t[3][t[4]].states[t[6]].state)},d(t){t&&m(n)}}}function Sr(t){let n,e,r,i,a,u,s,l,c,f=t[7](t[26].endOffset)-t[7](t[26].startOffset)>20;function h(){return t[18](t[25],t[28])}function p(){return t[19](t[25])}let g=f&&Or(t);return{c(){n=y("rect"),i=y("line"),g&&g.c(),s=$(),M(n,"x",e=t[7](t[26].startOffset)),M(n,"y",40),M(n,"width",r=t[7](t[26].endOffset)-t[7](t[26].startOffset)),M(n,"height",20),M(n,"class","svelte-1ecxz4z"),E(n,"active",t[4]===t[25]&&t[6]===t[28]||t[6]>=0&&t[6]<t[3][t[4]].states.length&&t[26].state===t[3][t[4]].states[t[6]].state),M(i,"x1",a=t[7](t[26].startOffset)),M(i,"y1",40),M(i,"x2",u=t[7](t[26].startOffset)),M(i,"y2",60),M(i,"class","svelte-1ecxz4z")},m(t,e){d(t,n,e),d(t,i,e),g&&g.m(t,e),d(t,s,e),l||(c=[x(n,"mouseenter",h),x(n,"mouseleave",p)],l=!0)},p(o,l){t=o,136&l&&e!==(e=t[7](t[26].startOffset))&&M(n,"x",e),136&l&&r!==(r=t[7](t[26].endOffset)-t[7](t[26].startOffset))&&M(n,"width",r),88&l&&E(n,"active",t[4]===t[25]&&t[6]===t[28]||t[6]>=0&&t[6]<t[3][t[4]].states.length&&t[26].state===t[3][t[4]].states[t[6]].state),136&l&&a!==(a=t[7](t[26].startOffset))&&M(i,"x1",a),136&l&&u!==(u=t[7](t[26].startOffset))&&M(i,"x2",u),136&l&&(f=t[7](t[26].endOffset)-t[7](t[26].startOffset)>20),f?g?g.p(t,l):(g=Or(t),g.c(),g.m(s.parentNode,s)):g&&(g.d(1),g=null)},d(t){t&&m(n),t&&m(i),g&&g.d(t),t&&m(s),l=!1,o(c)}}}function zr(t){let n,e,r,i,a,u,s,l,c,f,h;function p(){return t[14](t[25])}let b=t[25]>0&&function(t){let n,e,r;return{c(){n=y("line"),M(n,"x1",e=t[7](t[23].startOffset)),M(n,"y1",0),M(n,"x2",r=t[7](t[23].startOffset)),M(n,"y2",20),M(n,"class","svelte-1ecxz4z")},m(t,e){d(t,n,e)},p(t,i){136&i&&e!==(e=t[7](t[23].startOffset))&&M(n,"x1",e),136&i&&r!==(r=t[7](t[23].startOffset))&&M(n,"x2",r)},d(t){t&&m(n)}}}(t),N=t[23].secondDigits,O=[];for(let n=0;n<N.length;n+=1)O[n]=Er(Nr(t,N,n));let S=t[23].states,z=[];for(let n=0;n<S.length;n+=1)z[n]=Sr(Mr(t,S,n));return{c(){n=y("rect"),b&&b.c(),i=y("text"),a=w(t[25]);for(let t=0;t<O.length;t+=1)O[t].c();s=$();for(let t=0;t<z.length;t+=1)z[t].c();l=y("line"),c=y("line"),M(n,"x",e=t[7](t[23].startOffset)),M(n,"y",0),M(n,"width",r=t[7](t[23].endOffset)-t[7](t[23].startOffset)),M(n,"height",20),M(n,"class","svelte-1ecxz4z"),E(n,"active",t[4]===t[25]),M(i,"x",u=(t[7](t[23].startOffset)+t[7](t[23].endOffset))/2),M(i,"y",13),M(i,"class","svelte-1ecxz4z"),E(i,"active",t[4]===t[25]),M(l,"x1",0),M(l,"y1",20),M(l,"x2",t[2]),M(l,"y2",20),M(l,"class","svelte-1ecxz4z"),M(c,"x1",0),M(c,"y1",40),M(c,"x2",t[2]),M(c,"y2",40),M(c,"class","svelte-1ecxz4z")},m(e,r){d(e,n,r),b&&b.m(e,r),d(e,i,r),g(i,a);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(e,r);d(e,s,r);for(let t=0;t<z.length;t+=1)z[t]&&z[t].m(e,r);d(e,l,r),d(e,c,r),f||(h=[x(n,"mouseenter",p),x(n,"mouseleave",t[15])],f=!0)},p(o,a){if(t=o,136&a&&e!==(e=t[7](t[23].startOffset))&&M(n,"x",e),136&a&&r!==(r=t[7](t[23].endOffset)-t[7](t[23].startOffset))&&M(n,"width",r),16&a&&E(n,"active",t[4]===t[25]),t[25]>0&&b.p(t,a),136&a&&u!==(u=(t[7](t[23].startOffset)+t[7](t[23].endOffset))/2)&&M(i,"x",u),16&a&&E(i,"active",t[4]===t[25]),440&a){let n;for(N=t[23].secondDigits,n=0;n<N.length;n+=1){const e=Nr(t,N,n);O[n]?O[n].p(e,a):(O[n]=Er(e),O[n].c(),O[n].m(s.parentNode,s))}for(;n<O.length;n+=1)O[n].d(1);O.length=N.length}if(472&a){let n;for(S=t[23].states,n=0;n<S.length;n+=1){const e=Mr(t,S,n);z[n]?z[n].p(e,a):(z[n]=Sr(e),z[n].c(),z[n].m(l.parentNode,l))}for(;n<z.length;n+=1)z[n].d(1);z.length=S.length}4&a&&M(l,"x2",t[2]),4&a&&M(c,"x2",t[2])},d(t){t&&m(n),b&&b.d(t),t&&m(i),v(O,t),t&&m(s),v(z,t),t&&m(l),t&&m(c),f=!1,o(h)}}}function kr(n){let e,r,i=n[3],o=[];for(let t=0;t<i.length;t+=1)o[t]=zr(xr(n,i,t));return{c(){e=y("g");for(let t=0;t<o.length;t+=1)o[t].c();M(e,"transform",r=`translate(${n[0]}, ${n[1]})`)},m(t,n){d(t,e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null)},p(t,[n]){if(508&n){let r;for(i=t[3],r=0;r<i.length;r+=1){const a=xr(t,i,r);o[r]?o[r].p(a,n):(o[r]=zr(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}3&n&&r!==(r=`translate(${t[0]}, ${t[1]})`)&&M(e,"transform",r)},i:t,o:t,d(t){t&&m(e),v(o,t)}}}function Ar(t,n,e){let r,i,o,{x:a=0}=n,{y:u}=n,{width:s}=n,{digits:l}=n,{zips:c}=n,{zoomRange:f=[]}=n,{highlightRange:h=[]}=n,{title:p}=n,{subtitle:g}=n,d=-1,m=-1,v=0;function y(t,n,r){if(v&&(clearTimeout(v),v=0),t>=0){t!==d&&e(9,f=[l[t].startOffset,l[t].endOffset]),n>=0?e(10,h=[l[t].secondDigits[n].startOffset,l[t].secondDigits[n].endOffset]):r>=0?e(10,h=[l[t].states[r].startOffset,l[t].states[r].endOffset]):v=setTimeout((()=>{e(10,h=f)}),10);const i=n>=0?h[0]:f[0],o=n>=0?h[1]:f[1];e(11,p=`ZIP Codes ${t}${n>=0?n:"x"}xxx: ${c[i].zip} to ${c[o-1].zip}`),e(12,g=`${c[i].place}, ${c[i].state} to ${c[o-1].place}, ${c[o-1].state}`)}else v=setTimeout((()=>{e(9,f=[]),e(10,h=[]),v=0}),10);e(4,d=t),e(5,i=n),e(6,m=r)}k((()=>{o=document.querySelector("svg"),o.createSVGPoint(),document.onkeydown=t=>{if(t.key>="0"&&t.key<="9")y(+t.key);else switch(t.key){case"x":y(-1);break;case"ArrowLeft":i>=0?0===i?1===d?y(0,8):d>0&&y(d-1,9):0===d&&1===i||y(d,i-1):d>0&&y(d-1);break;case"ArrowRight":i>=0?0===d&&8===i?y(1,0):9===i?d<9&&y(d+1,0):y(d,i+1):d<9&&y(d+1);break;case"ArrowDown":i||(0===d?y(0,1):y(d,0));break;case"ArrowUp":i>=0&&y(d)}t.preventDefault()}}));return t.$$set=t=>{"x"in t&&e(0,a=t.x),"y"in t&&e(1,u=t.y),"width"in t&&e(2,s=t.width),"digits"in t&&e(3,l=t.digits),"zips"in t&&e(13,c=t.zips),"zoomRange"in t&&e(9,f=t.zoomRange),"highlightRange"in t&&e(10,h=t.highlightRange),"title"in t&&e(11,p=t.title),"subtitle"in t&&e(12,g=t.subtitle)},t.$$.update=()=>{8196&t.$$.dirty&&e(7,r=$r([0,c.length],[0,s]))},[a,u,s,l,d,i,m,r,y,f,h,p,g,c,t=>y(t),()=>y(-1),(t,n)=>y(t,n),t=>y(t,-1),(t,n)=>y(t,-1,n),t=>y(t,-1,-1)]}pr=yr({thousands:",",grouping:[3],currency:["$",""]}),gr=pr.format,dr=pr.formatPrefix;class Rr extends J{constructor(t){super(),B(this,t,Ar,kr,u,{x:0,y:1,width:2,digits:3,zips:13,zoomRange:9,highlightRange:10,title:11,subtitle:12})}}function jr(n){let e,r,i,o,a,u,s;return{c(){e=y("rect"),r=b(),i=y("text"),o=w(n[2]),a=b(),u=y("text"),s=w(n[3]),M(e,"x",0),M(e,"y",0),M(e,"width",n[0]),M(e,"height",n[1]),M(i,"x",5),M(i,"y",20),M(i,"class","svelte-19o1etn"),M(u,"x",5),M(u,"y",40),M(u,"class","svelte-19o1etn")},m(t,n){d(t,e,n),d(t,r,n),d(t,i,n),g(i,o),d(t,a,n),d(t,u,n),g(u,s)},p(t,[n]){1&n&&M(e,"width",t[0]),2&n&&M(e,"height",t[1]),4&n&&N(o,t[2]),8&n&&N(s,t[3])},i:t,o:t,d(t){t&&m(e),t&&m(r),t&&m(i),t&&m(a),t&&m(u)}}}function Cr(t,n,e){let{width:r}=n,{height:i}=n,{title:o}=n,{subtitle:a}=n;return t.$$set=t=>{"width"in t&&e(0,r=t.width),"height"in t&&e(1,i=t.height),"title"in t&&e(2,o=t.title),"subtitle"in t&&e(3,a=t.subtitle)},[r,i,o,a]}class _r extends J{constructor(t){super(),B(this,t,Cr,jr,u,{width:0,height:1,title:2,subtitle:3})}}function Tr(t){let n,e,r,i,o,a,u,s;function l(n){t[10](n)}function c(n){t[11](n)}function f(n){t[12](n)}function h(n){t[13](n)}n=new Ke({props:{width:t[0],height:t[1]-60-Pr,y:Pr,zipCodes:t[2],states:t[4],zoomRange:t[5],highlightRange:t[6]}}),e=new _r({props:{width:t[0],height:Pr,title:t[7],subtitle:t[8]}});let p={y:t[1]-60,width:t[0],digits:t[3],zips:t[2]};return void 0!==t[5]&&(p.zoomRange=t[5]),void 0!==t[6]&&(p.highlightRange=t[6]),void 0!==t[7]&&(p.title=t[7]),void 0!==t[8]&&(p.subtitle=t[8]),r=new Rr({props:p}),R.push((()=>Y(r,"zoomRange",l))),R.push((()=>Y(r,"highlightRange",c))),R.push((()=>Y(r,"title",f))),R.push((()=>Y(r,"subtitle",h))),{c(){W(n.$$.fragment),W(e.$$.fragment),W(r.$$.fragment)},m(t,i){G(n,t,i),G(e,t,i),G(r,t,i),s=!0},p(t,s){const l={};1&s&&(l.width=t[0]),2&s&&(l.height=t[1]-60-Pr),4&s&&(l.zipCodes=t[2]),16&s&&(l.states=t[4]),32&s&&(l.zoomRange=t[5]),64&s&&(l.highlightRange=t[6]),n.$set(l);const c={};1&s&&(c.width=t[0]),128&s&&(c.title=t[7]),256&s&&(c.subtitle=t[8]),e.$set(c);const f={};2&s&&(f.y=t[1]-60),1&s&&(f.width=t[0]),8&s&&(f.digits=t[3]),4&s&&(f.zips=t[2]),!i&&32&s&&(i=!0,f.zoomRange=t[5],P((()=>i=!1))),!o&&64&s&&(o=!0,f.highlightRange=t[6],P((()=>o=!1))),!a&&128&s&&(a=!0,f.title=t[7],P((()=>a=!1))),!u&&256&s&&(u=!0,f.subtitle=t[8],P((()=>u=!1))),r.$set(f)},i(t){s||(V(n.$$.fragment,t),V(e.$$.fragment,t),V(r.$$.fragment,t),s=!0)},o(t){Z(n.$$.fragment,t),Z(e.$$.fragment,t),Z(r.$$.fragment,t),s=!1},d(t){K(n,t),K(e,t),K(r,t)}}}function Dr(t){let n,e,r,i=t[2]&&Tr(t);return{c(){var t;t="main",n=document.createElement(t),e=y("svg"),i&&i.c(),M(e,"width","100%"),M(e,"height","100%"),M(n,"class","svelte-1l4do8v")},m(o,a){d(o,n,a),g(n,e),i&&i.m(e,null),t[14](e),r=!0},p(t,[n]){t[2]?i?(i.p(t,n),4&n&&V(i,1)):(i=Tr(t),i.c(),V(i,1),i.m(e,null)):i&&(U={r:0,c:[],p:U},Z(i,1,1,(()=>{i=null})),U.r||o(U.c),U=U.p)},i(t){r||(V(i),r=!0)},o(t){Z(i),r=!1},d(e){e&&m(n),i&&i.d(),t[14](null)}}}const Pr=50;function qr(t,n,e){const r=qn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]);let i=800,o=600;const a=["","AL","AK","","AZ","AR","CA","","CO","CT","DE","DC","FL","GA","","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","","RI","SC","SD","TN","TX","UT","VT","VA","","WA","WV","WI","WY"];let u,s=null,l=[],c=[...Array(10)].map((t=>({startOffset:0,endOffset:0,states:[],secondDigits:[...Array(10)].map((t=>({startOffset:0,endOffset:0})))}))),f=[],h=[],p=[],g="",d="";function m(){u&&(e(0,i=u.width.baseVal.value),e(1,o=u.height.baseVal.value),console.log(i,o))}var v;return k((async()=>{window.onresize=m,lt("data/us-lower48.csv").then((t=>{for(let n of t){const t=r([n.lon,n.lat]);n.lon_proj=t[0],n.lat_proj=t[1]}let n=0,i=0,o="";for(let r=0;r<t.length;r+=1){let a=t[r];Math.floor(a.zip/1e4)>n&&(e(3,c[n].states[c[n].states.length-1].endOffset=r,c),e(3,c[n].endOffset=r,c),e(3,c[n].secondDigits[i].endOffset=r,c),n=Math.floor(a.zip/1e4),e(3,c[n].startOffset=r,c),e(3,c[n].secondDigits[0].startOffset=r,c),i=0),Math.floor(a.zip/1e3)-10*n>i&&(e(3,c[n].secondDigits[i].endOffset=r,c),i=Math.floor(a.zip/1e3)-10*n,e(3,c[n].secondDigits[i].startOffset=r,c)),a.state!==o&&(c[n].states.length>0&&e(3,c[n].states[c[n].states.length-1].endOffset=r,c),c[n].states.push({state:a.state,startOffset:r,endOffset:r}),o=a.state)}e(3,c[9].endOffset=t.length,c),e(3,c[9].secondDigits[9].endOffset=t.length,c),e(3,c[9].states[c[9].states.length-1].endOffset=t.length,c);for(let t of c){t.states=t.states.filter((t=>t.endOffset-t.startOffset>2));let n=t.states[0],e=0,r=[];do{for(;e<t.states.length-1&&t.states[e+1].state===n.state;)e+=1,n.endOffset=t.states[e].endOffset;r.push(n),e+=1,e<t.states.length&&(n=t.states[e])}while(e<t.states.length);t.states=r}e(2,s=t);let a={};for(let n of t){const t=`${n.place}, ${n.state}`;t in a?a[t].zips+=1:a[t]={name:t,firstZIP:n.zip,zips:1}}l=Object.values(a),l.sort(((t,n)=>n.zips-t.zips))})),function(t,n){return fetch(t,n).then(ct)}("data/us-states-20m.json").then((t=>{e(4,f=t.features.filter((t=>!["02","15","72"].includes(t.properties.STATE))).map((t=>{let n;return n="Polygon"===t.geometry.type?[t.geometry.coordinates[0].map((t=>r([t[0],t[1]])))]:t.geometry.coordinates.map((t=>t[0].map((t=>r([t[0],t[1]]))))),{state:a[+t.properties.STATE],geo:n.map((t=>t.map((t=>({lat_proj:t[1],lon_proj:t[0]})))))}})))}))})),v=m,z().$$.after_update.push(v),[i,o,s,c,f,h,p,g,d,u,function(t){h=t,e(5,h)},function(t){p=t,e(6,p)},function(t){g=t,e(7,g)},function(t){d=t,e(8,d)},function(t){R[t?"unshift":"push"]((()=>{u=t,e(9,u)}))}]}return new class extends J{constructor(t){super(),B(this,t,qr,Dr,u,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
